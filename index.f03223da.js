function e(e,t,o,i){Object.defineProperty(e,t,{get:o,set:i,enumerable:!0,configurable:!0})}var t=globalThis,o={},i={},n=t.parcelRequire94c2;null==n&&((n=function(e){if(e in o)return o[e].exports;if(e in i){var t=i[e];delete i[e];var n={id:e,exports:{}};return o[e]=n,t.call(n.exports,n,n.exports),n.exports}var r=Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){i[e]=t},t.parcelRequire94c2=n);var r=n.register;r("27Lyk",function(t,o){e(t.exports,"register",()=>i,e=>i=e),e(t.exports,"resolve",()=>n,e=>n=e);var i,n,r=new Map;i=function(e,t){for(var o=0;o<t.length-1;o+=2)r.set(t[o],{baseUrl:e,path:t[o+1]})},n=function(e){var t=r.get(e);if(null==t)throw Error("Could not resolve bundle with id "+e);return new URL(t.path,t.baseUrl).toString()}}),r("hSXbD",function(t,o){e(t.exports,"navButtons",()=>i),e(t.exports,"homeButton",()=>n),e(t.exports,"contentSections",()=>r),e(t.exports,"welcomeScreen",()=>a),e(t.exports,"getContainer",()=>s);let i=document.querySelectorAll(".nav-button"),n=document.querySelector(".home-button"),r=document.querySelectorAll(".section-content"),a=document.querySelector(".welcome-screen");function s(e){let t=document.querySelector(`.${e}`);return t||console.error(`Container .${e} not found`),t}document.querySelector(".alphabet-container"),document.querySelector(".numbers-container"),document.querySelector(".colors-container"),document.querySelector(".shapes-container"),document.querySelector(".positions-container"),document.querySelector(".emotions-container"),document.querySelector(".bodyParts-container"),document.querySelector(".animals-container")}),r("joNk2",function(e,t){var o=n("Gr8vk");e.exports=Promise.all([o("m8Jzg"),o("d4DOF")]).then(()=>n("a3vnr"))}),r("Gr8vk",function(e,t){e.exports=function(e){return import(n("27Lyk").resolve(e))}}),r("av3Da",function(e,t){var o=n("Gr8vk");e.exports=Promise.all([o("m8Jzg"),o("bGxPb")]).then(()=>n("768Kh"))}),r("3kfaP",function(e,t){var o=n("Gr8vk");e.exports=Promise.all([o("m8Jzg"),o("hmjq8")]).then(()=>n("9S8IL"))}),r("9dfmd",function(e,t){var o=n("Gr8vk");e.exports=Promise.all([o("m8Jzg"),o("dUMob")]).then(()=>n("hh1DO"))}),r("9GxVA",function(e,t){var o=n("Gr8vk");e.exports=Promise.all([o("m8Jzg"),o("1g7a5")]).then(()=>n("gMsGi"))}),r("kWyaT",function(e,t){var o=n("Gr8vk");e.exports=Promise.all([o("m8Jzg"),o("l55IR")]).then(()=>n("dQH3V"))}),r("l18sG",function(e,t){var o=n("Gr8vk");e.exports=Promise.all([o("m8Jzg"),o("cfXSD")]).then(()=>n("h6k7v"))}),r("kHR7i",function(e,t){var o=n("Gr8vk");e.exports=Promise.all([o("m8Jzg"),o("kEDhS")]).then(()=>n("5T61B"))}),r("jKkLD",function(t,o){e(t.exports,"AudioLoader",()=>i);class i{static getInstance(){return i.instance||(i.instance=new i),i.instance}constructor(){this.audioCache=new Map,this.loadingPromises=new Map,this.isEnabled=!0,this.isEnabled="undefined"!=typeof Audio,window.addEventListener("beforeunload",()=>{this.cleanup()})}loadAudio(e){if(this.audioCache.has(e))return Promise.resolve(this.audioCache.get(e));if(this.loadingPromises.has(e))return this.loadingPromises.get(e);let t=new Promise((t,o)=>{if(!this.isEnabled){o(Error("Audio is not supported in this browser"));return}let i=new Audio(e);i.addEventListener("canplaythrough",()=>{this.audioCache.set(e,i),this.loadingPromises.delete(e),t(i)},{once:!0}),i.addEventListener("error",()=>{this.loadingPromises.delete(e),o(Error(`Failed to load audio: ${e}`))},{once:!0}),i.load()});return this.loadingPromises.set(e,t),t}async playAudio(e,t=1){if(!this.isEnabled){console.warn("Audio is not supported in this browser");return}try{let o=await this.loadAudio(e);o.currentTime=0,o.volume=Math.max(0,Math.min(1,t));let i=o.play();void 0!==i&&i.catch(e=>{console.error("Error playing audio:",e)})}catch(e){console.error("Error loading audio:",e)}}preloadAudioFiles(e){return Promise.all(e.map(e=>this.loadAudio(e)))}setEnabled(e){this.isEnabled=e}isAudioEnabled(){return this.isEnabled}cleanup(){this.audioCache.forEach(e=>{e.pause(),e.currentTime=0}),this.audioCache.clear(),this.loadingPromises.clear()}}}),r("klKV5",function(t,o){e(t.exports,"ImageLoader",()=>i);class i{static getInstance(){return i.instance||(i.instance=new i),i.instance}constructor(){this.loadedImages=new Set,this.lowQualityPlaceholders=new Map,this.observer=new IntersectionObserver(this.onIntersection.bind(this),{rootMargin:"50px 0px",threshold:.01}),window.addEventListener("beforeunload",()=>{this.observer.disconnect()})}onIntersection(e){e.forEach(e=>{if(e.isIntersecting){let t=e.target,o=t.dataset.src;o&&(this.loadImage(t,o),this.observer.unobserve(t))}})}loadImage(e,t){let o=new Image;o.onload=()=>{e.src=t,e.classList.add("loaded"),this.loadedImages.add(t),delete e.dataset.src},o.onerror=()=>{console.error(`Failed to load image: ${t}`),e.classList.add("error")},o.src=t}createLazyImage(e,t,o="",i="#f0f0f0"){let n=document.createElement("img");return n.alt=t,o&&(n.className=o),this.loadedImages.has(e)?(n.src=e,n.classList.add("loaded")):(n.src=this.getLowQualityPlaceholder(e)||`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1 1' width='40' height='40'%3E%3Crect width='1' height='1' fill='${i.replace("#","%23")}' /%3E%3C/svg%3E`,n.dataset.src=e,n.classList.add("lazy"),this.observer.observe(n)),n}getLowQualityPlaceholder(e){return this.lowQualityPlaceholders.get(e)}setLowQualityPlaceholder(e,t){this.lowQualityPlaceholders.set(e,t)}preloadImage(e){return new Promise((t,o)=>{if(this.loadedImages.has(e)){t();return}let i=new Image;i.onload=()=>{this.loadedImages.add(e),t()},i.onerror=()=>{o(Error(`Failed to preload image: ${e}`))},i.src=e})}preloadImages(e){return Promise.all(e.map(e=>this.preloadImage(e)))}}}),n("27Lyk").register(new URL("",import.meta.url).toString(),JSON.parse('["fTMOD","index.f03223da.js","d4DOF","alphabet.d83bd539.js","m8Jzg","alphabet.c2a0c3b4.js","bGxPb","numbers.f9790d7e.js","hmjq8","colors.60620428.js","dUMob","shapes.e3ebbdf2.js","1g7a5","positions.577f4bd1.js","l55IR","emotions.0941e5e8.js","cfXSD","bodyParts.8de34b1d.js","kEDhS","animals.de36f27d.js"]'));var a=(n("hSXbD"),n("hSXbD"));class s{static getInstance(){return s.instance||(s.instance=new s),s.instance}constructor(){this.currentSection=null,this.loadedSections=new Map,this.initializationPromises=new Map}async switchSection(e){if(console.log(`Switching to section: ${e||"welcome"}`),this.currentSection&&this.loadedSections.has(this.currentSection)){let e=this.loadedSections.get(this.currentSection);e?.cleanup?.()}if((0,a.welcomeScreen).classList.remove("active"),(0,a.contentSections).forEach(e=>e.classList.remove("active")),!e){(0,a.welcomeScreen).classList.add("active"),this.currentSection=null;return}let t=document.getElementById(`${e}-section`);if(t){t.classList.add("active");try{await this.loadAndInitializeSection(e),this.currentSection=e}catch(t){console.error(`Error loading section ${e}:`,t),(0,a.welcomeScreen).classList.add("active"),this.currentSection=null}}else console.error(`Section element #${e}-section not found`),(0,a.welcomeScreen).classList.add("active"),this.currentSection=null}async loadAndInitializeSection(e){if(this.loadedSections.has(e))return this.loadedSections.get(e);if(this.initializationPromises.has(e))return this.initializationPromises.get(e);let t=this.importAndInitializeSection(e);this.initializationPromises.set(e,t);try{let o=await t;return this.loadedSections.set(e,o),this.initializationPromises.delete(e),o}catch(t){throw this.initializationPromises.delete(e),t}}async importAndInitializeSection(e){try{let t=await ({alphabet:()=>n("joNk2"),numbers:()=>n("av3Da"),colors:()=>n("3kfaP"),shapes:()=>n("9dfmd"),positions:()=>n("9GxVA"),emotions:()=>n("kWyaT"),bodyParts:()=>n("l18sG"),animals:()=>n("kHR7i")})[e]();if("function"==typeof t.initialize)return t.initialize(),{initialize:t.initialize,cleanup:t.cleanup};throw Error(`Section module ${e} does not have an initialize function`)}catch(t){throw console.error(`Failed to import section ${e}:`,t),t}}async preloadSection(e){return this.loadAndInitializeSection(e).then(()=>{console.log(`Section ${e} preloaded successfully`)})}getCurrentSection(){return this.currentSection}}var c=n("jKkLD"),l=n("klKV5");async function d(){console.log("Initializing preschool learning app...");let e=s.getInstance();(0,c.AudioLoader).getInstance(),(0,l.ImageLoader).getInstance(),a.homeButton&&(0,a.homeButton).addEventListener("click",()=>{e.switchSection(void 0)}),(0,a.navButtons).forEach(t=>{t.addEventListener("click",()=>{let o=t.dataset.section;o&&e.switchSection(o)})});let t=document.getElementById("mascot");t&&t.addEventListener("click",()=>{t.classList.add("bounce"),setTimeout(()=>t.classList.remove("bounce"),1e3)});try{await e.switchSection(void 0),console.log("App initialization complete")}catch(e){console.error("Error during app initialization:",e)}}document.addEventListener("DOMContentLoaded",d);
//# sourceMappingURL=index.f03223da.js.map
